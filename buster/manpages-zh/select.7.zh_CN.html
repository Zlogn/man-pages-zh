<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>select(7) — manpages-zh — Debian buster — Debian Manpages</title>
<style type="text/css">
@font-face {
  font-family: 'Inconsolata';
  src: local('Inconsolata'), url(/Inconsolata.woff2) format('woff2'), url(/Inconsolata.woff) format('woff');
}

@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto Regular'), local('Roboto-Regular'), url(/Roboto-Regular.woff2) format('woff2'), url(/Roboto-Regular.woff) format('woff');
}

body {
	color: #000;
	background-color: white;
	background-image: linear-gradient(to bottom, #d7d9e2, #fff 70px);
	background-position: 0 0;
	background-repeat: repeat-x;
	font-family: sans-serif;
	font-size: 100%;
	line-height: 1.2;
	letter-spacing: 0.15px;
	margin: 0;
	padding: 0;
}

#header {
	padding: 0 10px 0 52px;
}

#logo {
	position: absolute;
	top: 0;
	left: 0;
	border-left: 1px solid transparent;
	border-right: 1px solid transparent;
	border-bottom: 1px solid transparent;
	width: 50px;
	height: 5.07em;
	min-height: 65px;
}

#logo a {
	display: block;
	height: 100%;
}

#logo img {
	margin-top: 5px;
	position: absolute;
	bottom: 0.3em;
	overflow: auto;
	border: 0;
}

p.section {
	margin: 0;
	padding: 0 5px 0 5px;
	font-size: 13px;
	line-height: 16px;
	color: white;
	letter-spacing: 0.08em;
	position: absolute;
	top: 0px;
	left: 52px;
	background-color: #c70036;
}

p.section a {
	color: white;
	text-decoration: none;
}

.hidecss {
	display: none;
}

#searchbox {
	text-align:left;
	line-height: 1;
	margin: 0 10px 0 0.5em;
	padding: 1px 0 1px 0;
	position: absolute;
	top: 0;
	right: 0;
	font-size: .75em;
}

#navbar {
	border-bottom: 1px solid #c70036;
}

#navbar ul {
	margin: 0;
	padding: 0;
	overflow: hidden;
}

#navbar li {
	list-style: none;
	float: left;
}

#navbar a {
	display: block;
	padding: 1.75em .5em .25em .5em;
	color: #0035c7;
	text-decoration: none;
	border-left: 1px solid transparent;
	border-right: 1px solid transparent;
}

#navbar a:hover
, #navbar a:visited:hover {
	background-color: #f5f6f7;
	border-left: 1px solid  #d2d3d7;
	border-right: 1px solid #d2d3d7;
	text-decoration: underline;
}

a:link {
	color: #0035c7;
}

a:visited {
	color: #54638c;
}

#breadcrumbs {
	line-height: 2;
	min-height: 20px;
	margin: 0;
	padding: 0;
	font-size: 0.75em;
	background-color: #f5f6f7;
	border-bottom: 1px solid #d2d3d7;
}

#breadcrumbs:before {
	margin-left: 0.5em;
	margin-right: 0.5em;
}

#content {
    margin: 0 10px 0 52px;
    display: flex;
    flex-direction: row;
}

.paneljump {
    background-color: #d70751;
    padding: 0.5em;
    border-radius: 3px;
    margin-right: .5em;
    display: none;
}

.paneljump a,
.paneljump a:visited,
.paneljump a:hover,
.paneljump a:focus {
    color: white;
}

@media all and (max-width: 800px) {
    #content {
	flex-direction: column;
	margin: 0.5em;
    }
    .paneljump {
	display: block;
    }
}

.panels {
    display: block;
    order: 2;
}

.maincontent {
    width: 100%;
    max-width: 80ch;
    order: 1;
}

.mandoc {
    font-family: monospace;
    font-size: 1.04rem;
}

.mandoc pre {
    white-space: pre-wrap;
}

#footer {
	border: 1px solid #dfdfe0;
	border-left: 0;
	border-right: 0;
	background-color: #f5f6f7;
	padding: 1em;
	margin: 1em 10px 0 52px;
	font-size: 0.75em;
	line-height: 1.5em;
}

hr {
	border-top: 1px solid #d2d3d7;
	border-bottom: 1px solid white;
	border-left: 0;
	border-right: 0;
	margin: 1.4375em 0 1.5em 0;
	height: 0;
	background-color: #bbb;
}

#content p {
    padding-left: 1em;
}

 

a, a:hover, a:focus, a:visited {
    color: #0530D7;
    text-decoration: none;
}

 
.panel {
  padding: 15px;
  margin-bottom: 20px;
  background-color: #ffffff;
  border: 1px solid #dddddd;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}

.panel-heading, .panel details {
  margin: -15px -15px 0px;
  background-color: #d70751;
  border-bottom: 1px solid #dddddd;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}

.panel-heading, .panel summary {
  padding: 5px 5px;
  font-size: 17.5px;
  font-weight: 500;
  color: #ffffff;
  outline-style: none;
}

.panel summary {
    padding-left: 7px;
}

summary, details {
    display: block;
}

.panel details ul {
  margin: 0;
}

.panel-footer {
  padding: 5px 5px;
  margin: 15px -15px -15px;
  background-color: #f5f5f5;
  border-top: 1px solid #dddddd;
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
}
.panel-info {
  border-color: #bce8f1;
}

.panel-info .panel-heading {
  color: #3a87ad;
  background-color: #d9edf7;
  border-color: #bce8f1;
}


.list-group {
  padding-left: 0;
  margin-bottom: 20px;
  background-color: #ffffff;
}

.list-group-item {
  position: relative;
  display: block;
  padding: 5px 5px 5px 5px;
  margin-bottom: -1px;
  border: 1px solid #dddddd;
}

.list-group-item > .list-item-key {
  min-width: 27%;
  display: inline-block;
}
.list-group-item > .list-item-key.versions-repository {
  min-width: 40%;
}
.list-group-item > .list-item-key.versioned-links-version {
  min-width: 40%
}


.versioned-links-icon {
  margin-right: 2px;
}
.versioned-links-icon a {
  color: black;
}
.versioned-links-icon a:hover {
  color: blue;
}
.versioned-links-icon-inactive {
  opacity: 0.5;
}

.list-group-item:first-child {
  border-top-right-radius: 4px;
  border-top-left-radius: 4px;
}

.list-group-item:last-child {
  margin-bottom: 0;
  border-bottom-right-radius: 4px;
  border-bottom-left-radius: 4px;
}

.list-group-item-heading {
  margin-top: 0;
  margin-bottom: 5px;
}

.list-group-item-text {
  margin-bottom: 0;
  line-height: 1.3;
}

.list-group-item:hover {
  background-color: #f5f5f5;
}

.list-group-item.active a {
  z-index: 2;
}

.list-group-item.active {
  background-color: #efefef;
}

.list-group-flush {
  margin: 15px -15px -15px;
}
.panel .list-group-flush {
  margin-top: -1px;
}

.list-group-flush .list-group-item {
  border-width: 1px 0;
}

.list-group-flush .list-group-item:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}

.list-group-flush .list-group-item:last-child {
  border-bottom: 0;
}

 

.panel {
float: right;
clear: right;
min-width: 200px;
}

.toc {
     
    width: 200px;
}

.toc li {
    font-size: 98%;
    letter-spacing: 0.02em;
    display: flex;
}

.otherversions {
     
    width: 200px;
}

.otherversions li,
.otherlangs li {
    display: flex;
}

.otherversions a,
.otherlangs a {
    flex-shrink: 0;
}

.pkgversion,
.pkgname,
.toc a {
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
}

.pkgversion,
.pkgname {
    margin-left: auto;
    padding-left: 1em;
}

 

.mandoc {
     
    overflow: hidden;
    margin-top: .5em;
    margin-right: 45px;
}
table.head, table.foot {
    width: 100%;
}
.head-vol {
    text-align: center;
}
.head-rtitle {
    text-align: right;
}

 
.spacer, .Pp {
    min-height: 1em;
}

pre {
    margin-left: 2em;
}

.anchor {
    margin-left: .25em;
    visibility: hidden;
}

h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
    visibility: visible;
}

h1, h2, h3, h4, h5, h6 {
    letter-spacing: .07em;
    margin-top: 1.5em;
    margin-bottom: .35em;
}

h1 {
    font-size: 150%;
}

h2 {
    font-size: 125%;
}

@media print {
    #header, #footer, .panel, .anchor, .paneljump {
	display: none;
    }
    #content {
	margin: 0;
    }
    .mandoc {
	margin: 0;
    }
}

 
 

.Bd { }
.Bd-indent {	margin-left: 3.8em; }

.Bl-bullet {	list-style-type: disc;
		padding-left: 1em; }
.Bl-bullet > li { }
.Bl-dash {	list-style-type: none;
		padding-left: 0em; }
.Bl-dash > li:before {
		content: "\2014  "; }
.Bl-item {	list-style-type: none;
		padding-left: 0em; }
.Bl-item > li { }
.Bl-compact > li {
		margin-top: 0em; }

.Bl-enum {	padding-left: 2em; }
.Bl-enum > li { }
.Bl-compact > li {
		margin-top: 0em; }

.Bl-diag { }
.Bl-diag > dt {
		font-style: normal;
		font-weight: bold; }
.Bl-diag > dd {
		margin-left: 0em; }
.Bl-hang { }
.Bl-hang > dt { }
.Bl-hang > dd {
		margin-left: 5.5em; }
.Bl-inset { }
.Bl-inset > dt { }
.Bl-inset > dd {
		margin-left: 0em; }
.Bl-ohang { }
.Bl-ohang > dt { }
.Bl-ohang > dd {
		margin-left: 0em; }
.Bl-tag {	margin-left: 5.5em; }
.Bl-tag > dt {
		float: left;
		margin-top: 0em;
		margin-left: -5.5em;
		padding-right: 1.2em;
		vertical-align: top; }
.Bl-tag > dd {
		clear: right;
		width: 100%;
		margin-top: 0em;
		margin-left: 0em;
		vertical-align: top;
		overflow: auto; }
.Bl-compact > dt {
		margin-top: 0em; }

.Bl-column { }
.Bl-column > tbody > tr { }
.Bl-column > tbody > tr > td {
		margin-top: 1em; }
.Bl-compact > tbody > tr > td {
		margin-top: 0em; }

.Rs {		font-style: normal;
		font-weight: normal; }
.RsA { }
.RsB {		font-style: italic;
		font-weight: normal; }
.RsC { }
.RsD { }
.RsI {		font-style: italic;
		font-weight: normal; }
.RsJ {		font-style: italic;
		font-weight: normal; }
.RsN { }
.RsO { }
.RsP { }
.RsQ { }
.RsR { }
.RsT {		text-decoration: underline; }
.RsU { }
.RsV { }

.eqn { }
.tbl { }

.HP {		margin-left: 3.8em;
		text-indent: -3.8em; }

 

table.Nm { }
code.Nm {	font-style: normal;
		font-weight: bold;
		font-family: inherit; }
.Fl {		font-style: normal;
		font-weight: bold;
		font-family: inherit; }
.Cm {		font-style: normal;
		font-weight: bold;
		font-family: inherit; }
.Ar {		font-style: italic;
		font-weight: normal; }
.Op {		display: inline; }
.Ic {		font-style: normal;
		font-weight: bold;
		font-family: inherit; }
.Ev {		font-style: normal;
		font-weight: normal;
		font-family: monospace; }
.Pa {		font-style: italic;
		font-weight: normal; }

 

.Lb { }
code.In {	font-style: normal;
		font-weight: bold;
		font-family: inherit; }
a.In { }
.Fd {		font-style: normal;
		font-weight: bold;
		font-family: inherit; }
.Ft {		font-style: italic;
		font-weight: normal; }
.Fn {		font-style: normal;
		font-weight: bold;
		font-family: inherit; }
.Fa {		font-style: italic;
		font-weight: normal; }
.Vt {		font-style: italic;
		font-weight: normal; }
.Va {		font-style: italic;
		font-weight: normal; }
.Dv {		font-style: normal;
		font-weight: normal;
		font-family: monospace; }
.Er {		font-style: normal;
		font-weight: normal;
		font-family: monospace; }

 

.An { }
.Lk { }
.Mt { }
.Cd {		font-style: normal;
		font-weight: bold;
		font-family: inherit; }
.Ad {		font-style: italic;
		font-weight: normal; }
.Ms {		font-style: normal;
		font-weight: bold; }
.St { }
.Ux { }

 

.Bf {		display: inline; }
.No {		font-style: normal;
		font-weight: normal; }
.Em {		font-style: italic;
		font-weight: normal; }
.Sy {		font-style: normal;
		font-weight: bold; }
.Li {		font-style: normal;
		font-weight: normal;
		font-family: monospace; }

</style>
<script type="text/javascript">
if (!!document['fonts']) {
        var r = "body{font-family:'Roboto',sans-serif;}";
        var i = ".mandoc,.mandoc pre,.mandoc code,p.section{font-family:'Inconsolata',monospace;}";
        var l = function(m) {
                if (!document.body) {
                        document.write("<style>"+m+"</style>");
                } else {
                        document.body.innerHTML+="<style>"+m+"</style>";
                }
        };
         
        new FontFace('Roboto', "local('Roboto'), local('Roboto Regular'), local('Roboto-Regular'), url(/Roboto-Regular.woff2) format('woff2'), url(/Roboto-Regular.woff) format('woff')")
                .load().then(function() { l(r); });
        new FontFace('Inconsolata', "local('Inconsolata'), url(/Inconsolata.woff2) format('woff2'), url(/Inconsolata.woff) format('woff')")
                .load().then(function() { l(i); });
} else {
        var l = document.createElement('link');
        l.rel = 'preload';
        l.href = '/fonts-woff.css';
        l.as = 'style';
        l.onload = function() { this.rel = 'stylesheet'; };
        document.head.appendChild(l);
}
</script>
<link rel="search" title="Debian manpages" type="application/opensearchdescription+xml" href="../../opensearch.xml">
<noscript>
  <style type="text/css">
    body { font-family: 'Roboto', sans-serif; }
    .mandoc, .mandoc pre, .mandoc code, p.section { font-family: 'Inconsolata', monospace; }
  </style>
</noscript>
<link rel="alternate" href="../../buster/manpages-zh/select.7.zh_CN.html" hreflang="zh-CN">
<link rel="alternate" href="../../buster/manpages-zh/select.7.zh_TW.html" hreflang="zh-TW">
</head>
<body>
<div id="header">
   <div id="upperheader">
   <div id="logo">
  <a href="../../" title="Debian Home"><img src="../../openlogo-50.svg" alt="Debian" width="50" height="61"></a>
  </div>
  <p class="section"><a href="../../">MANPAGES</a></p>
  <div id="searchbox">
    <form action="../../jump" method="get">
      <input type="hidden" name="suite" value="buster">
      <input type="hidden" name="binarypkg" value="manpages-zh">
      <input type="hidden" name="section" value="7">
      <input type="hidden" name="language" value="zh_CN">
      <input type="text" name="q" placeholder="manpage name" required>
      <input type="submit" value="Jump">
    </form>
  </div>
 </div>
<div id="navbar">
<p class="hidecss"><a href="#content">Skip Quicknav</a></p>
<ul>
   <li><a href="../../">Index</a></li>
   <li><a href="../../about.html">About Manpages</a></li>
   <li><a href="../../faq.html">FAQ</a></li>
   <li><a href="../../manpages.debian.org">Service Information</a></li>
</ul>
</div>
   <p id="breadcrumbs">&nbsp;
     
     &#x2F; <a href="../../contents-buster.html">buster</a>
     
     
     
     &#x2F; <a href="../../buster/manpages-zh/index.html">manpages-zh</a>
     
     
     
     &#x2F; select(7)
     
     </p>
</div>
<div id="content">


<div class="panels" id="panels">
<div class="panel" role="complementary">
<div class="panel-heading" role="heading">
links
</div>
<div class="panel-body">
<ul class="list-group list-group-flush">
<li class="list-group-item">
<a href="../../buster/manpages-zh/select.7">language-indep link</a>
</li>
<li class="list-group-item">
<a href="../../pkg/manpages-zh">package tracker</a>
</li>
<li class="list-group-item">
<a href="../../buster/manpages-zh/select.7.zh_CN.gz">raw man page</a>
</li>
</ul>
</div>
</div>

<div class="panel toc" role="complementary" style="padding-bottom: 0">
<details>
<summary>
table of contents
</summary>
<div class="panel-body">
<ul class="list-group list-group-flush">

<li class="list-group-item">
  <a class="toclink" href="#NAME" title="NAME">NAME</a>
</li>

<li class="list-group-item">
  <a class="toclink" href="#SYNOPSIS" title="SYNOPSIS">SYNOPSIS</a>
</li>

<li class="list-group-item">
  <a class="toclink" href="#DESCRIPTION_%E6%8F%8F%E8%BF%B0" title="DESCRIPTION 描述">DESCRIPTION 描述</a>
</li>

<li class="list-group-item">
  <a class="toclink" href="#PARAMETERS_%E5%8F%82%E6%95%B0" title="PARAMETERS 参数">PARAMETERS 参数</a>
</li>

<li class="list-group-item">
  <a class="toclink" href="#EXAMPLES_%E4%BE%8B%E5%AD%90" title="EXAMPLES 例子">EXAMPLES 例子</a>
</li>

<li class="list-group-item">
  <a class="toclink" href="#COMPATIBILITY_%E5%85%BC%E5%AE%B9%E6%80%A7" title="COMPATIBILITY 兼容性">COMPATIBILITY 兼容性</a>
</li>

<li class="list-group-item">
  <a class="toclink" href="#%E8%AF%91%E8%80%85" title="译者">译者</a>
</li>

<li class="list-group-item">
  <a class="toclink" href="#%E8%B7%8B" title="跋">跋</a>
</li>

</ul>
</div>
</details>
</div>

<div class="panel otherversions" role="complementary">
<div class="panel-heading" role="heading">
other versions
</div>
<div class="panel-body">
<ul class="list-group list-group-flush">

<li class="list-group-item active">
<a href="../../buster/manpages-zh/select.7.zh_CN.html">buster</a> <span class="pkgversion" title="1.6.3.3-1">1.6.3.3-1</span>
</li>

<li class="list-group-item">
<a href="../../testing/manpages-zh/select.7.zh_CN.html">testing</a> <span class="pkgversion" title="1.6.3.3-2">1.6.3.3-2</span>
</li>

<li class="list-group-item">
<a href="../../unstable/manpages-zh/select.7.zh_CN.html">unstable</a> <span class="pkgversion" title="1.6.3.3-2">1.6.3.3-2</span>
</li>

</ul>
</div>
</div>


<div class="panel otherlangs" role="complementary">
<div class="panel-heading" role="heading">
other languages
</div>
<div class="panel-body">
<ul class="list-group list-group-flush">

<li class="list-group-item active">
<a href="../../buster/manpages-zh/select.7.zh_CN.html" title="Chinese (zh_CN)">中文 (zh-CN)</a>

</li>

<li class="list-group-item">
<a href="../../buster/manpages-zh/select.7.zh_TW.html" title="Chinese (zh_TW)">繁體中文 (zh-TW)</a>

</li>

</ul>
</div>
</div>



<div class="panel" role="complementary">
<div class="panel-heading" role="heading">
other sections
</div>
<div class="panel-body">
<ul class="list-group list-group-flush">

<li class="list-group-item">
<a href="../../buster/manpages-dev/select.2.en.html">2 (<span title="System calls (functions provided by the kernel)">syscalls</span>)</a>
</li>

<li class="list-group-item">
<a href="../../buster/freebsd-manpages/select.2freebsd.en.html">2freebsd (<span title="System calls (functions provided by the kernel)">syscalls</span>)</a>
</li>

<li class="list-group-item">
<a href="../../buster/opencl-1.2-man-doc/select.3clc.en.html">3clc (<span title="Library calls (functions within program libraries)">libfuncs</span>)</a>
</li>

<li class="list-group-item active">
<a href="../../buster/manpages-zh/select.7.zh_CN.html">7 (<span title="Miscellaneous (including macro packages and conventions), e.g. man(7), groff(7)">misc</span>)</a>
</li>

</ul>
</div>
</div>



</div>

<div class="maincontent">
<p class="paneljump"><a href="#panels">Scroll to navigation</a></p>
<div class="mandoc">
<table class="head">
  <tbody><tr>
    <td class="head-ltitle"><a href="../../buster/postgresql-client-11/SELECT.7.en.html">SELECT(7)</a></td>
    <td class="head-vol">SQL Commands</td>
    <td class="head-rtitle"><a href="../../buster/postgresql-client-11/SELECT.7.en.html">SELECT(7)</a></td>
  </tr>
</tbody></table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME">NAME<a class="anchor" href="#NAME">¶</a></h1>
SELECT -
  从表或视图中取出若干行
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS">SYNOPSIS<a class="anchor" href="#SYNOPSIS">¶</a></h1>
<pre>SELECT [ ALL | DISTINCT [ ON ( <i>expression</i> [, ...] ) ] ]
    * | <i>expression</i> [ AS <i>output_name</i> ] [, ...]
    [ FROM <i>from_item</i> [, ...] ]
    [ WHERE <i>condition</i> ]
    [ GROUP BY <i>expression</i> [, ...] ]
    [ HAVING <i>condition</i> [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL ] <i>select</i> ]
    [ ORDER BY <i>expression</i> [ ASC | DESC | USING <i>operator</i> ] [, ...] ]
    [ LIMIT { <i>count</i> | ALL } ]
    [ OFFSET <i>start</i> ]
    [ FOR UPDATE [ OF <i>table_name</i> [, ...] ] ]
where <i>from_item</i> can be one of:
    [ ONLY ] <i>table_name</i> [ * ] [ [ AS ] <i>alias</i> [ ( <i>column_alias</i> [, ...] ) ] ]
    ( <i>select</i> ) [ AS ] <i>alias</i> [ ( <i>column_alias</i> [, ...] ) ]
    <i>function_name</i> ( [ <i>argument</i> [, ...] ] ) [ AS ] <i>alias</i> [ ( <i>column_alias</i> [, ...] | <i>column_definition</i> [, ...] ) ]
    <i>function_name</i> ( [ <i>argument</i> [, ...] ] ) AS ( <i>column_definition</i> [, ...] )
    <i>from_item</i> [ NATURAL ] <i>join_type</i> <i>from_item</i> [ ON <i>join_condition</i> | USING ( <i>join_column</i> [, ...] ) ]

</pre>
[Comment: FIXME: This last syntax is incorrect if the join type is an INNER or
  OUTER join (in which case one of NATURAL, ON ..., or USING ... is mandatory,
  not optional). What&#39;s the best way to fix this?]
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION_描述">DESCRIPTION 描述<a class="anchor" href="#DESCRIPTION_%E6%8F%8F%E8%BF%B0">¶</a></h1>
<b>SELECT</b>
  将从一个或更多表中返回记录行。
  SELECT 通常的处理如下：
<dl class="Bl-tag">
  <dt>1.</dt>
  <dd>
     计算列出在 FROM
      中的所有元素。（FROM
      中的每个元素都是一个真正的或者虚拟的表。）如果在
      FROM
      列表里声明了多过一个元素，那么他们就交叉连接在一起。（参阅下面的
      FROM Clause [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>2.</dt>
  <dd>
     如果声明了 WHERE
      子句，那么在输出中消除所有
      不满足条件的行。（参阅下面的
      WHERE Clause [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>3.</dt>
  <dd>
     如果声明了 GROUP BY
      子句，输出就分成匹配一个或多个数值的不同组里。
      如果出现了 HAVING
      子句，那么它消除那些不满足给出条件的组。（参阅下面的
      GROUP BY Clause [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] 和 HAVING Clause
      [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>4.</dt>
  <dd>
     使用 UNION，INTERSECT， 和
      EXCEPT，我们可以把多个
      SELECT
      语句的输出合并成一个结果集。UNION
      操作符返回在两个结果集或者其中一个中的行，
      INTERSECT
      操作符返回严格地在两个结果集中都有的行。
      EXCEPT
      操作符返回在第一个结果集中，但是不在第二个结果集中的行。不管哪种情况，
      重复的行都被删除，除非声明了
      ALL。（参阅下面的 UNION Clause
      [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>], INTERSECT Clause [<b>select</b>(l)], 和 EXCEPT
      Clause [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>5.</dt>
  <dd>
    
      实际输出行的时候，SELECT
      先为每个选出的行计算输出表达式
      （参阅下面的 SELECT List
      [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>6.</dt>
  <dd>
     如果声明了 ORDER BY
      子句，那么返回的行是按照指定的顺序排序的。
      如果没有给出 ORDER
      BY，那么数据行是按照系统认为可以最快生成的方法给出的。
      （参阅下面的 ORDER BY Clause
      [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>7.</dt>
  <dd>
     如果给出了 LIMIT 或者 OFFSET
      子句，那么 SELECT
      语句只返回结果行的一个子集。（参阅下面的
      LIMIT Clause [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>8.</dt>
  <dd>DISTINCT
      从结果中删除那些重复的行。
      DISTINCT ON
      删除那些匹配所有指定表达式的行。
      ALL
      （缺省）将返回所有候选行，包括重复的。
      （参阅下面的 DISTINCT Clause
      [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
  <dt>9.</dt>
  <dd>FOR UPDATE 子句导致 SELECT
      语句对并发的更新锁住选定的行。（参阅下面的
      FOR UPDATE Clause [<a href="../../buster/manpages-zh/select.7.zh_CN.html">select(7)</a>] ）。</dd>
</dl>
<p class="Pp">
   你必须有 SELECT
    权限用来从表中读取数值。
    使用 FOR UPDATE 还要求 UPDATE
    权限。</p>
</section>
<section class="Sh">
<h1 class="Sh" id="PARAMETERS_参数">PARAMETERS 参数<a class="anchor" href="#PARAMETERS_%E5%8F%82%E6%95%B0">¶</a></h1>
<section class="Ss">
<h2 class="Ss" id="FROM_子句">FROM 子句<a class="anchor" href="#FROM_%E5%AD%90%E5%8F%A5">¶</a></h2>
FROM 子句为 SELECT
  声明一个或者多个源表。
  如果声明了多个源表，那么结果就是所有源表的笛卡儿积（交叉连接）。
  但是通常我们会添加一些条件，把返回行限制成笛卡儿积的一个小的结果集。
<p class="Pp">FROM-子句可以包括：</p>
<dl class="Bl-tag">
  <dt><b></b><i>table_name</i><b></b></dt>
  <dd>
    
      一个现存的表或视图的名字（可以有模式修饰）。
      如果声明了ONLY，则只扫描该表。
      如果没有声明ONLY，该表和所有其派生表（如果有的话）都被扫描。
      可以在表名后面跟一个*来表示扫所有其后代表，
      但在目前的版本里，这是缺省特性。
      （在 PostgreSQL 7.1
      以前的版本里，ONLY是缺省特性。）
      缺省的特性可以通过修改配置选项
      sql_interitance 来改变。</dd>
  <dt><b></b><i>alias</i><b></b></dt>
  <dd>
     为那些包含别名的 FROM
      项目取的别名。别名用于缩写或者在自连接中消除歧义（自连接里，同一个表扫描了多次）。
      如果提供了别名，那么它就会完全隐藏表或者函数的实际名字；
      比如，如果给出 FROM foo AS
      f，那么 SELECT
      剩下的东西必须吧这个
      FROM 项以 f 而不是 foo
      引用。如果写了别名，
      我们也可以提供一个字段别名列表，这样可以替换表中一个或者多个字段的名字。</dd>
  <dt><b></b><i>select</i><b></b></dt>
  <dd>
     一个子 SELECT 在 FROM
      子句里出现的。
      它的输出作用好象是为这条
      SELECT
      命令在其生存期里创建一个临时表。
      请注意这个子 SELECT
      必须用园括弧包围。
      并且必须给它加别名。</dd>
  <dt><b></b><i>function_name</i><b></b></dt>
  <dd>
     函数调用可以出现在
      FROM 子句里。
      （对于那些返回结果集的函数特别有用，但是任何函数都能用。）
      这么做就好像在这个
      SELECT 命令的生命期中，
      把函数的输出创建为一个临时表一样。我们也可以使用别名。如果写了别名，
      我们还可以写一个字段别名列表，为函数返回的复合类型的一个或多个属性提供名字替换。
      如果函数定义为了 record
      数据类型，
      那么必须出现一个 AS
      关键字或者别名，后面跟着一个字段定义列表，
      形如：( column_name data_type [, ... ])。
      这个字段定义列表必须匹配函数返回的字段的实际数目和类型。</dd>
  <dt><b></b><i>join_type</i><b></b></dt>
  <dd></dd>
</dl>
<div class="Bd-indent">
<dl class="Bl-tag">
  <dt>•</dt>
  <dd>[ INNER ] JOIN</dd>
  <dt>•</dt>
  <dd>LEFT [ OUTER ] JOIN</dd>
  <dt>•</dt>
  <dd>RIGHT [ OUTER ] JOIN</dd>
  <dt>•</dt>
  <dd>FULL [ OUTER ] JOIN</dd>
  <dt>•</dt>
  <dd>CROSS JOIN</dd>
</dl>
</div>
<p class="Pp">
   之一。 就 INNER 和 OUTER
    连接类型，
    我们必须声明一个连接条件，也就是说一个
    NATURAL， ON join_condition， 或者 USING
    (join_column [, ...])。
    见下文获取它们的含义，对于
    CROSS
    JOIN，这些子句都不能出现。</p>
<p class="Pp">
   一个 JOIN
    子句，组合了两个 FROM
    项。
    必要时使用圆括弧以决定嵌套的顺序。
    如果没有圆括弧，JOIN
    的嵌套从左向右。
    在任何情况下，JOIN
    都比逗号分隔的 FROM
    项绑定得更紧。</p>
<p class="Pp">CROSS JOIN 和 INNER JOIN
    生成一个简单的笛卡儿积，和你在
    FROM
    的顶层列出两个项的结果相同。
    CROSS JOIN 等效于 INNER JOIN ON (true)，
    也就是说，没有被条件删除的行。这种连接类型只是符号上的方便，
    因为它们和你用简单的
    FROM 和 WHERE
    干的事情是一样的。</p>
<p class="Pp">LEFT OUTER JOIN
    返回有条件的笛卡儿积（也就是说，
    所有组合出来的行都通过了连接条件）中的行，加上左手边的表中没有对应的右手边表的行可以一起匹配通过连接条件的那些行。
    这样的左手边的行扩展成连接生成表的全长，方法是在那些右手边表对应的字段位置填上空。请注意，只有在决定那些行是匹配的时候，
    之计算 JOIN
    子句自己的条件。外层的条件是在这之后施加的。</p>
<p class="Pp">
   对应的是，RIGHT OUTER JOIN
    返回所有连接出来的行，
    加上每个不匹配的右手边行（左边用空值扩展）。这只是一个符号上的便利，因为我们总是可以把它转换成一个
    LEFT OUTER JOIN，
    只要把左边和右边的输入对掉一下即可。</p>
<p class="Pp">FULL OUTER JOIN
    返回所有连接出来的行，加上每个不匹配的左手边的行（右边用空值扩展），
    加上每个不匹配的右手边的行（左边用空值扩展）。</p>
<dl class="Bl-tag">
  <dt><b>ON </b><i>join_condition</i><b></b></dt>
  <dd><i>join_condition</i>
      是一个表达式，
      生成类型为 boolean
      的结果（类似WHERE
      子句），
      表示连接中那些行被认为是匹配的。</dd>
  <dt><b>USING (</b><i>join_column</i><b> [, ...])</b></dt>
  <dd>
     一个形如 USING ( a, b, ... )
      的子句， 是ON left_table.a = right_table.a
      AND left_table.b = right_table.b ...
      的缩写。同样，USING
      蕴涵着：每对等效字段中只有一个包含在连接输出中，而不是两个都输出的意思。</dd>
  <dt><b>NATURAL</b></dt>
  <dd>NATURAL 是一个 USING
      列表的缩写，这个列表说的是两个表中同名的的字段。</dd>
</dl>
</section>
<section class="Ss">
<h2 class="Ss" id="WHERE_子句">WHERE 子句<a class="anchor" href="#WHERE_%E5%AD%90%E5%8F%A5">¶</a></h2>
 可选的 WHERE
  条件有如下常见的形式：
<p class="Pp"></p>
<pre>WHERE <i>condition</i>

</pre>
 这里 condition
  可以是任意生成类型为
  boolean 的表达式。
  任何不满足这个条件的行都会从输出中删除。如果一个行的数值替换到条件的引用中计算出来的条件为真，那么该行就算满足条件。
</section>
<section class="Ss">
<h2 class="Ss" id="GROUP_BY_子句">GROUP BY 子句<a class="anchor" href="#GROUP_BY_%E5%AD%90%E5%8F%A5">¶</a></h2>
 可选的 GROUP BY
  子句的一般形式
<p class="Pp"></p>
<pre>GROUP BY <i>expression</i> [, ...]

</pre>
<p class="Pp">GROUP BY
    将把所有在组合了的表达式上共享同样的值的行压缩成一行。
    expression
    可以是一个输入字段名字，
    或者是一个输入字段（SELECT
    列表）的序号，或者也可以是任意从输入字段值形成的任意表达式。
    在有歧义的情况下，一个
    GROUP BY
    的名字将被解释成输入字段的名字，而不是输出字段的名字。</p>
<p class="Pp">
  
    如果使用了聚集函数，那么就会对组成一组的所有行进行计算，为每个组生成一个独立的值（而如果没有
    GROUP BY，
    那么聚集对选出来的所有行计算出一个值）。如果出现了
    GROUP BY， 那么 SELECT
    列表表达式中再引用那些没有分组的字段就是非法的，
    除非放在聚集函数里，因为对于未分组的字段，可能会返回多个数值。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="HAVING_子句">HAVING 子句<a class="anchor" href="#HAVING_%E5%AD%90%E5%8F%A5">¶</a></h2>
 可选的 HAVING
  子句有如下形式：
<p class="Pp"></p>
<pre>HAVING <i>condition</i>

</pre>
 这里 condition 和为 WHERE
  子句里声明的相同。
<p class="Pp">HAVING
    去除了一些不满足条件的组行。
    HAVING 与 WHERE 不同： WHERE
    在使用 GROUP BY
    之前过滤出单独的行，而
    HAVING 过滤由 GROUP BY
    创建的行。 在 condition
    里引用的每个字段都必须无歧义地引用一个分组的行，除非引用出现在一个聚集函数里。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="UNION_子句">UNION 子句<a class="anchor" href="#UNION_%E5%AD%90%E5%8F%A5">¶</a></h2>
UNION 子句的一般形式是：
<p class="Pp"></p>
<pre><i>select_statement</i> UNION [ ALL ] <i>select_statement</i>

</pre>
 这里 <i>select_statement</i>
  是任意没有 ORDER
  BY，LIMIT，或者 FOR UPDATE 子句的
  SELECT语句。
  （如果用圆括弧包围，ORDER
  BY 和 LIMIT
  可以附着在子表达式里。
  如果没有圆括弧，这些子句将交给
  UNION 的结果使用，
  而不是给它们右手边的输入表达式。）
<p class="Pp">UNION
    操作符计算那些涉及到的所有
    SELECT
    语句返回的行的结果联合。
    一个行如果至少在两个结果集中的一个里面出现，那么它就会在这两个结果集的集合联合中。
    两个做为 UNION
    直接操作数的SELECT必须生成相同数目的字段，
    并且对应的字段必须有兼容的数据类型。</p>
<p class="Pp">
   缺省地，UNION
    的结果不包含任何重复的行，除非声明了
    ALL 子句。 ALL
    制止了消除重复的动作。</p>
<p class="Pp">
   同一SELECT语句中的多个 UNION
    操作符是从左向右计算的，
    除非用圆括弧进行了标识。</p>
<p class="Pp">
   目前，FOR UPDATE 不能在 UNION
    的结果或输入中声明。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="INTERSECT_子句">INTERSECT 子句<a class="anchor" href="#INTERSECT_%E5%AD%90%E5%8F%A5">¶</a></h2>
INTERSECT
  子句的一般形式是：
<p class="Pp"></p>
<pre><i>select_statement</i> INTERSECT [ ALL ] <i>select_statement</i>

</pre>
<i>select_statement</i> 是任何不带 ORDER
  BY， LIMIT，或者 FOR UPDATE 子句的
  SELECT 语句。
<p class="Pp">
   INTERSECT 计算涉及的 SELECT
    语句返回的行的集合交集。
    如果一个行在两个结果集中都出现，那么它就在两个结果集的交集中。</p>
<p class="Pp">
   NTERSECT
    的结果不包含任何重复行，除非你声明了
    ALL 选项。 用了 ALL
    以后，一个在左手边的表里有
    m
    个重复而在右手边表里有
    n 个重复的行将出现 min(m,n)
    次。</p>
<p class="Pp">
  
    除非用圆括号指明顺序，
    同一 SELECT 语句中的多个
    INTERSECT
    操作符是从左向右计算的。
    INTERSECT 比 UNION 绑定得更紧 ---
    也就是说 A UNION B INTERSECT C
    将读做 A UNION (B INTERSECT
    C)，除非你用圆括弧声明。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="EXCEPT_子句">EXCEPT 子句<a class="anchor" href="#EXCEPT_%E5%AD%90%E5%8F%A5">¶</a></h2>
EXCEPT
  子句有如下的通用形式：
<p class="Pp"></p>
<pre><i>select_statement</i> EXCEPT [ ALL ] <i>select_statement</i>

</pre>
 这里 fIselect_statement 是任何没有
  ORDER BY，LIMIT，或者 FOR UPDATE
  子句的 SELECT 表达式。
<p class="Pp">EXCEPT
    操作符计算存在于左边SELECT
    语句的输出而不存在于右边语句输出的行。</p>
<p class="Pp">EXCEPT
    的结果不包含任何重复的行，除非声明了
    ALL 选项。 使用 ALL
    时，一个在左手边表中有
    m
    个重复而在右手边表中有
    n 个重复的行将出现
    max(m-n,0) 次。</p>
<p class="Pp">
  
    除非用圆括弧指明顺序，同一
    SELECT 语句中的多个 EXCEPT
    操作符是从左向右计算的。
    EXCEPT 和 UNION
    绑定级别相同。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="SELECT_列表">SELECT 列表<a class="anchor" href="#SELECT_%E5%88%97%E8%A1%A8">¶</a></h2>
<b>SELECT</b> 列表（在关键字 SELECT
  和 FROM)
  之间的东西）声明一个表达式，这个表达式形成
  SELECT
  语句的输出行。这个表达式可以（通常也的确是）引用那些在
  FROM 子句里计算的字段。
  通过使用 AS output_name，
  我们可以为一个输出行声明另外一个名字。这个名字主要用做显示该行的标签。
  它也可以在 ORDER BY 和 GROUP BY
  子句里当作字段值的引用，
  但是不能在 WHERE 或者 HAVING
  子句里这么用；在那里，你必须写出表达式。
<p class="Pp">
  
    除了表达式之外，我们也可以在输出列表上写一个
    *
    表示选出的行的所有字段的缩写。同样，我们可以写
    <i>table_name.</i>*
    作为来自某个特定表的字段的缩写。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="ORDER_BY_子句">ORDER BY 子句<a class="anchor" href="#ORDER_BY_%E5%AD%90%E5%8F%A5">¶</a></h2>
 可选的 ORDER BY
  子句有下面的一般形式：
<p class="Pp"></p>
<pre>ORDER BY <i>expression</i> [ ASC | DESC | USING <i>operator</i> ] [, ...]

</pre>
<i>expression</i>
  可以是一个输出字段（SELECT
  列表）的名字或者序号，
  或者也可以是用输入字段的数值组成的任意表达式。
<p class="Pp">ORDER BY
    子句导致结果行根据指定的表达式进行排序。
    如果根据最左边的表达式，两行的结果相同，那么就根据下一个表达式进行比较，
    依此类推。如果对于所有声明的表达式他们都相同，那么以随机顺序返回。</p>
<p class="Pp">
  
    序数指的是列/字段按顺序（从左到右）的位置。
    这个特性让我们可以对没有唯一名称的列/字段进行排序。
    这一点从来不是必须的，
    因为总是可以通过 AS
    子句给一个要计算的列/字段赋予一个名称。</p>
<p class="Pp">
   在 ORDER BY
    里还可以使用任意表达式，
    包括那些没有出现在SELECT结果列表里面的字段。
    因此下面的语句现在是合法的：</p>
<p class="Pp"></p>
<pre>SELECT name FROM distributors ORDER BY code;

</pre>

  这个特性的一个局限就是应用于
  UNION，INTERSECT， 或者 EXCEPT
  查询的 ORDER BY
  子句只能在一个输出字段名或者数字上声明，而不能在一个表达式上声明。
<p class="Pp">
   请注意如果一个 ORDER BY
    表达式是一个简单名称，
    同时匹配结果字段和输入字段，
    ORDER BY
    将把它解释成结果字段名称。
    这和 GROUP BY
    在同样情况下做的选择正相反。
    这样的不一致是由 SQL
    标准强制的。</p>
<p class="Pp">
   我们可以给 ORDER BY
    子句里每个列/字段加一个关键字
    DESC （降序）或
    ASC（升序）。如果不声明，
    ASC 是缺省。
    我们还可以在 USING
    子句里声明一个排序操作符来实现排序。
    ASC 等效于使用 USING &lt; 而 DESC
    等效于使用 USING &gt;。 (But the creator
    of a user-defined data type can define exactly what the default sort
    ordering is, and it might correspond to operators with other names.)</p>
<p class="Pp">
  
    在一个域里，空值排序时排在其它数值前面。换句话说，升序排序时，
    空值排在末尾，而降序排序时空值排在开头。</p>
<p class="Pp">
  
    字符类型的数据是按照区域相关的字符集顺序排序的，这个区域是在数据库集群初始化的时候建立的。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="LIMIT_子句">LIMIT 子句<a class="anchor" href="#LIMIT_%E5%AD%90%E5%8F%A5">¶</a></h2>
LIMIT
  子句由两个独立的子句组成：
<p class="Pp"></p>
<pre>LIMIT { <i>count</i> | ALL }
OFFSET <i>start</i>

</pre>
 这里 <i>count</i>
  声明返回的最大行数，而
  <i>start</i>
  声明开始返回行之前忽略的行数。
 .PP
 LIMIT
  允许你检索由查询其他部分生成的行的某一部分。
  如果给出了限制计数，那么返回的行数不会超过哪个限制。
  如果给出了一个偏移量，那么开始返回行之前会忽略那个数量的行。
<p class="Pp">
   在使用 LIMIT 时，
    一个好习惯是使用一个
    ORDER BY
    子句把结果行限制成一个唯一的顺序。
    否则你会得到无法预料的查询返回的子集
    ---
    你可能想要第十行到第二十行，
    但以什么顺序？除非你声明
    ORDER
    BY，否则你不知道什么顺序。</p>
<p class="Pp">
  
    查询优化器在生成查询规划时把
    LIMIT 考虑进去了，
    所以你很有可能因给出的
    LIMIT 和 OFFSET
    值不同而得到不同的规划（生成不同的行序）。
    因此用不同的 LIMIT/OFFSET
    值选择不同的查询结果的子集将不会产生一致的结果，
    除非你用 ORDER BY
    强制生成一个可预计的结果顺序。
    这可不是毛病；这是 SQL
    生来的特点，因为除非用了
    ORDER BY 约束顺序， SQL
    不保证查询生成的结果有任何特定的顺序。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="DISTINCT_子句">DISTINCT 子句<a class="anchor" href="#DISTINCT_%E5%AD%90%E5%8F%A5">¶</a></h2>
 如果声明了
  DISTINCT，那么就从结果集中删除所有重复的行（每个有重复的组都保留一行）。
  ALL
  声明相反的作用：所有行都被保留；这个是缺省。
<p class="Pp">DISTINCT ON ( <i>expression</i> [, ...] )
    只保留那些在给出的表达式上运算出相同结果的行集合中的第一行。
    DISTINCT ON 表达式是使用与 ORDER
    BY （见上文）
    相同的规则进行解释的。请注意，除非我们使用了
    ORDER BY
    来保证我们需要的行首先出现，否则，每个
    &#34;第一行&#34;
    是不可预测的。
    比如，</p>
<p class="Pp"></p>
<pre>SELECT DISTINCT ON (location) location, time, report
    FROM weather_reports
    ORDER BY location, time DESC;

</pre>

  为每个地点检索最近的天气报告。但是如果我们没有使用
  ORDER BY
  来强制对每个地点的时间值进行降序排序，那么我们就会得到每个地点的不知道什么时候的报告。
<p class="Pp">
   DISTINCT ON
    表达式必须匹配最左边的
    ORDER BY 表达式。 ORDER BY
    子句将通常包含额外的表达式来判断每个
    DISTINCT ON
    组里面需要的行的优先级。</p>
</section>
<section class="Ss">
<h2 class="Ss" id="FOR_UPDATE_子句">FOR UPDATE 子句<a class="anchor" href="#FOR_UPDATE_%E5%AD%90%E5%8F%A5">¶</a></h2>
FOR UPDATE 子句有下面的形式
<p class="Pp"></p>
<pre>FOR UPDATE [ OF <i>table_name</i> [, ...] ]

</pre>
<p class="Pp">FOR UPDATE 令那些被 SELECT
    语句检索出来的行被锁住，就像要更新一样。
    这样就避免它们在当前事务结束前被其它事务修改或者删除；
    也就是说，其它视图
    UPDATE，DELETE， 或者 SELECT FOR UPDATE
    这些行的事务将被阻塞，
    直到当前事务结束。同样，如果一个来自其它事务的
    UPDATE， DELETE，或者 SELECT FOR UPDATE
    已经锁住了某个或某些选定的行，SELECT
    FOR UPDATE
    将等到那些事务结束，
    并且将随后锁住并返回更新的行（或者不返回行，如果行已经被删除）。更多的讨论参阅
    Chapter 12 ``Concurrency Control&#39;&#39; 。</p>
<p class="Pp">
   如果特定的表在 FOR UPDATE
    中，那么只有来自这些表中的行才被锁住；
    任何在 SELECT
    中使用的其它表都只是和平常一样读取。</p>
<p class="Pp">FOR UPDATE
    不能在那些无法使用独立的表数据行清晰标识返回行的环境里；
    比如，它不能和聚集一起使用。</p>
<p class="Pp">FOR UPDATE 可以在 LIMIT
    前面出现，
    主要是为了和 7.3
    之前的 PostgreSQL 兼容。
    不过，它在 LIMIT
    后面执行更高效，因此我们建议放在
    LIMIT 后面。</p>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES_例子">EXAMPLES 例子<a class="anchor" href="#EXAMPLES_%E4%BE%8B%E5%AD%90">¶</a></h1>
 将表 films 和表 distributors
  连接在一起：
<p class="Pp"></p>
<pre>SELECT f.title, f.did, d.name, f.date_prod, f.kind
    FROM distributors d, films f
    WHERE f.did = d.did
       title       | did |     name     | date_prod  |   kind
-------------------+-----+--------------+------------+----------
 The Third Man     | 101 | British Lion | 1949-12-23 | Drama
 The African Queen | 101 | British Lion | 1951-08-11 | Romantic
 ...

</pre>
<p class="Pp">
   统计用kind
    分组的所有电影和组的列/字段的
    len（长度）的和：</p>
<p class="Pp"></p>
<pre>SELECT kind, sum(len) AS total FROM films GROUP BY kind;
   kind   | total
----------+-------
 Action   | 07:34
 Comedy   | 02:58
 Drama    | 14:28
 Musical  | 06:42
 Romantic | 04:38

</pre>
<p class="Pp">
  
    统计所有电影（films），组的列/字段
    len（长度）的和，用 kind
    分组并且显示小于5小时的组总和：</p>
<p class="Pp"></p>
<pre>SELECT kind, sum(len) AS total
    FROM films
    GROUP BY kind
    HAVING sum(len) &lt; interval &#39;5 hours&#39;;
   kind   | total
----------+-------
 Comedy   | 02:58
 Romantic | 04:38

</pre>
<p class="Pp">
  
    下面两个例子是根据第二列（name）的内容对单独的结果排序的经典的方法：</p>
<p class="Pp"></p>
<pre>SELECT * FROM distributors ORDER BY name;
SELECT * FROM distributors ORDER BY 2;
 did |       name
-----+------------------
 109 | 20th Century Fox
 110 | Bavaria Atelier
 101 | British Lion
 107 | Columbia
 102 | Jean Luc Godard
 113 | Luso films
 104 | Mosfilm
 103 | Paramount
 106 | Toho
 105 | United Artists
 111 | Walt Disney
 112 | Warner Bros.
 108 | Westward

</pre>
<p class="Pp">
  
    下面这个例子演示如何获得表
    distributors 和 actors的连接，
    只将每个表中以字母 W
    开头的取出来。
    因为只取了不相关的行，所以关键字
    ALL 被省略了：</p>
<p class="Pp"></p>
<pre>distributors:               actors:
 did |     name              id |     name
-----+--------------        ----+----------------
 108 | Westward               1 | Woody Allen
 111 | Walt Disney            2 | Warren Beatty
 112 | Warner Bros.           3 | Walter Matthau
 ...                         ...
SELECT distributors.name
    FROM distributors
    WHERE distributors.name LIKE &#39;W%&#39;
UNION
SELECT actors.name
    FROM actors
    WHERE actors.name LIKE &#39;W%&#39;;
      name
----------------
 Walt Disney
 Walter Matthau
 Warner Bros.
 Warren Beatty
 Westward
 Woody Allen

</pre>
<p class="Pp">
  
    这个例子显示了如何在
    FROM
    子句中使用一个函数，
    包括带有和不带字段定义列表的。</p>
<p class="Pp"></p>
<pre>CREATE FUNCTION distributors(int) RETURNS SETOF distributors AS &#39;
    SELECT * FROM distributors WHERE did = $1;
´ LANGUAGE SQL;
SELECT * FROM distributors(111);
 did |    name
-----+-------------
 111 | Walt Disney
CREATE FUNCTION distributors_2(int) RETURNS SETOF record AS &#39;
    SELECT * FROM distributors WHERE did = $1;
´ LANGUAGE SQL;
SELECT * FROM distributors_2(111) AS (f1 int, f2 text);
 f1  |     f2
-----+-------------
 111 | Walt Disney

</pre>
</section>
<section class="Sh">
<h1 class="Sh" id="COMPATIBILITY_兼容性">COMPATIBILITY 兼容性<a class="anchor" href="#COMPATIBILITY_%E5%85%BC%E5%AE%B9%E6%80%A7">¶</a></h1>
 当然，SELECT 语句和 SQL
  标准兼容。但是还有一些扩展和一些缺少的特性。
<section class="Ss">
<h2 class="Ss" id="省略_FROM_子句">省略 FROM 子句<a class="anchor" href="#%E7%9C%81%E7%95%A5_FROM_%E5%AD%90%E5%8F%A5">¶</a></h2>
PostgreSQL
  允许我们在一个查询里省略
  FROM 子句。
  它的最直接用途就是计算简单的常量表达式的结果：
<p class="Pp"></p>
<pre>SELECT 2+2;
 ?column?
----------
        4

</pre>
 其它有些 SQL
  数据库不能这么做，除非引入一个单行的伪表做
  SELECT 的数据源。
<p class="Pp">
  
    这个特性的另外一个不太明显的用途是把一个普通的从一个或多个表的
    SELECT 缩写：</p>
<p class="Pp"></p>
<pre>SELECT distributors.* WHERE distributors.name = &#39;Westward&#39;;
 did |   name
-----+----------
 108 | Westward

</pre>
这样也可以运行是因为我们给
  SELECT 中引用了但没有在 FROM
  中提到的每个表都加了一个隐含的
  FROM 项。
<p class="Pp">
  
    尽管这是个很方便的写法，但它却容易误用。
    比如，下面的查询</p>
<p class="Pp"></p>
<pre>SELECT distributors.* FROM distributors d;

</pre>
可能就是个错误；用户最有可能的意思是
<p class="Pp"></p>
<pre>SELECT d.* FROM distributors d;

</pre>
而不是下面的他实际上得到的无约束的连接
<p class="Pp"></p>
<pre>SELECT distributors.* FROM distributors d, distributors distributors;

</pre>
为了帮助检测这种错误，
  PostgreSQL
  以及以后的版本将在你使用一条即有隐含
  FROM 特性又有明确的 FROM
  子句的查询的时候给出警告。
  Also, it is possible to disable the implicit-FROM feature by setting the
  ADD_MISSING_FROM parameter to false.
</section>
<section class="Ss">
<h2 class="Ss" id="AS_关键字">AS 关键字<a class="anchor" href="#AS_%E5%85%B3%E9%94%AE%E5%AD%97">¶</a></h2>
 在 SQL
  标准里，可选的关键字
  AS
  是多余的，可以忽略掉而不对语句产生任何影响。
  PostgreSQL
  分析器在重命名列/字段时需要这个关键字，
  因为类型扩展的特性会导致在这个环境里的歧义。
  不过，AS 在 FROM
  项里是可选的。
</section>
<section class="Ss">
<h2 class="Ss" id="GROUP_BY_和_ORDER_BY_里可用的名字空间">GROUP BY 和 ORDER BY 里可用的名字空间<a class="anchor" href="#GROUP_BY_%E5%92%8C_ORDER_BY_%E9%87%8C%E5%8F%AF%E7%94%A8%E7%9A%84%E5%90%8D%E5%AD%97%E7%A9%BA%E9%97%B4">¶</a></h2>
 在 SQL92 标准里，ORDER BY
  子句只能使用结果字段名或者编号，
  而 GROUP BY
  子句只能用基于输入字段名的表达式。
  PostgreSQL
  对这两个子句都进行了扩展，
  允许另外一种选择（但是如果存在歧义，则使用标准的解释）。
  PostgreSQL
  还允许两个子句声明任意的表达式。
  请注意在表达式中出现的名字强总是被当作输入字段名，而不是结果字段名。
<p class="Pp">SQL99 uses a slightly different definition which is not upward
    compatible with SQL92. In most cases, however, PostgreSQL will interpret an
    ORDER BY or GROUP BY expression the same way SQL99 does.</p>
</section>
<section class="Ss">
<h2 class="Ss" id="非标准子句">非标准子句<a class="anchor" href="#%E9%9D%9E%E6%A0%87%E5%87%86%E5%AD%90%E5%8F%A5">¶</a></h2>
DISTINCT ON, LIMIT, 和 OFFSET 都没有在 SQL
  标准中定义。
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="译者">译者<a class="anchor" href="#%E8%AF%91%E8%80%85">¶</a></h1>
<b>Postgresql 中文网站</b> <b>何伟平
  &lt;laser@pgsqldb.org&gt;</b>
</section>
<section class="Sh">
<h1 class="Sh" id="跋">跋<a class="anchor" href="#%E8%B7%8B">¶</a></h1>
本页面中文版由中文 man
  手册页计划提供。
<br/>
中文 man
  手册页计划：<b><a href="../../man-pages-zh/manpages-zh">../../man-pages-zh/manpages-zh</a></b>
</section>
</div>
<table class="foot">
  <tbody><tr>
    <td class="foot-date">2003-11-02</td>
    <td class="foot-os">SQL - Language Statements</td>
  </tr>
</tbody></table>
</div>
</div>
</div>
<div id="footer">

<p><table>
<tr>
<td>
Source file:
</td>
<td>
select.7.zh_CN.gz (from <a href="../../package/manpages-zh/1.6.3.3-1/">manpages-zh 1.6.3.3-1</a>)
</td>
</tr>

<tr>
<td>
Source last updated:
</td>
<td>
2018-04-28T10:54:36Z
</td>
</tr>

<tr>
<td>
Converted to HTML:
</td>
<td>
2019-11-26T15:38:36Z
</td>
</tr>
</table></p>

<hr>
<div id="fineprint">
<p>debiman HEAD, see <a
href="../../Debian/debiman/">github.com/Debian/debiman</a>.
Found a problem? See the <a href="../../faq.html">FAQ</a>.</p>
</div>
</div>
<script type="text/javascript">
(function(a){"use strict";var b=function(b,c,d){var e=a.document;var f=e.createElement("link");var g;if(c)g=c;else{var h=(e.body||e.getElementsByTagName("head")[0]).childNodes;g=h[h.length-1];}var i=e.styleSheets;f.rel="stylesheet";f.href=b;f.media="only x";function j(a){if(e.body)return a();setTimeout(function(){j(a);});}j(function(){g.parentNode.insertBefore(f,(c?g:g.nextSibling));});var k=function(a){var b=f.href;var c=i.length;while(c--)if(i[c].href===b)return a();setTimeout(function(){k(a);});};function l(){if(f.addEventListener)f.removeEventListener("load",l);f.media=d||"all";}if(f.addEventListener)f.addEventListener("load",l);f.onloadcssdefined=k;k(l);return f;};if(typeof exports!=="undefined")exports.loadCSS=b;else a.loadCSS=b;}(typeof global!=="undefined"?global:this));
(function(a){if(!a.loadCSS)return;var b=loadCSS.relpreload={};b.support=function(){try{return a.document.createElement("link").relList.supports("preload");}catch(b){return false;}};b.poly=function(){var b=a.document.getElementsByTagName("link");for(var c=0;c<b.length;c++){var d=b[c];if(d.rel==="preload"&&d.getAttribute("as")==="style"){a.loadCSS(d.href,d);d.rel=null;}}};if(!b.support()){b.poly();var c=a.setInterval(b.poly,300);if(a.addEventListener)a.addEventListener("load",function(){a.clearInterval(c);});if(a.attachEvent)a.attachEvent("onload",function(){a.clearInterval(c);});}}(this));
</script>

<script type="application/ld+json">
"{\"@context\":\"../../contents-buster.html\",\"name\":\"buster\"}},{\"@type\":\"ListItem\",\"position\":2,\"item\":{\"@type\":\"Thing\",\"@id\":\"/buster/manpages-zh/index.html\",\"name\":\"manpages-zh\"}},{\"@type\":\"ListItem\",\"position\":3,\"item\":{\"@type\":\"Thing\",\"@id\":\"\",\"name\":\"select(7)\"}}]}"
</script>
